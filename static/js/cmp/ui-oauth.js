function c(){}function t(c,t,e,g,n){c.__svelte_meta={loc:{file:t,line:e,column:g,char:n}}}function e(c){return c()}function g(){return Object.create(null)}function n(c){c.forEach(e)}function I(c){return"function"==typeof c}function i(c,t){return c!=c?t==t:c!==t||c&&"object"==typeof c||"function"==typeof c}function l(c,t){c.appendChild(t)}function s(c,t,e){c.insertBefore(t,e||null)}function a(c){c.parentNode.removeChild(c)}function o(c){return document.createElement(c)}function C(c){return document.createElementNS("http://www.w3.org/2000/svg",c)}function u(c){return document.createTextNode(c)}function d(){return u(" ")}function b(c,t,e){null==e?c.removeAttribute(t):c.setAttribute(t,e)}function r(c,t,e){t in c?c[t]=e:b(c,t,e)}function A(c,t){t=""+t,c.data!==t&&(c.data=t)}function G(c,t,e){c.classList[e?"add":"remove"](t)}let X;function m(c){X=c}function p(c){(function(){if(!X)throw new Error("Function called outside component initialization");return X})().$$.on_destroy.push(c)}const B=[],Z=[],h=[],x=[],F=Promise.resolve();let y=!1;function V(c){h.push(c)}function Q(){const c=new Set;do{for(;B.length;){const c=B.shift();m(c),N(c.$$)}for(;Z.length;)Z.pop()();for(let t=0;t<h.length;t+=1){const e=h[t];c.has(e)||(e(),c.add(e))}h.length=0}while(B.length);for(;x.length;)x.pop()();y=!1}function N(c){c.fragment&&(c.update(c.dirty),n(c.before_update),c.fragment.p(c.dirty,c.ctx),c.dirty=null,c.after_update.forEach(V))}const f=new Set;const Y="undefined"!=typeof window?window:global;function W(c,t){c.$$.dirty||(B.push(c),y||(y=!0,F.then(Q)),c.$$.dirty=g()),c.$$.dirty[t]=!0}function z(t,i,l,s,a,o){const C=X;m(t);const u=i.props||{},d=t.$$={fragment:null,ctx:null,props:o,update:c,not_equal:a,bound:g(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(C?C.$$.context:[]),callbacks:g(),dirty:null};let b=!1;var r,A,G;d.ctx=l?l(t,u,(c,e)=>{d.ctx&&a(d.ctx[c],d.ctx[c]=e)&&(d.bound[c]&&d.bound[c](e),b&&W(t,c))}):u,d.update(),b=!0,n(d.before_update),d.fragment=s(d.ctx),i.target&&(i.hydrate?d.fragment.l((G=i.target,Array.from(G.childNodes))):d.fragment.c(),i.intro&&((r=t.$$.fragment)&&r.i&&(f.delete(r),r.i(A))),function(c,t,g){const{fragment:i,on_mount:l,on_destroy:s,after_update:a}=c.$$;i.m(t,g),V(()=>{const t=l.map(e).filter(I);s?s.push(...t):n(t),c.$$.on_mount=[]}),a.forEach(V)}(t,i.target,i.anchor),Q()),m(C)}class w{$destroy(){var t,e;e=1,(t=this).$$.fragment&&(n(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={}),this.$destroy=c}$on(c,t){const e=this.$$.callbacks[c]||(this.$$.callbacks[c]=[]);return e.push(t),()=>{const c=e.indexOf(t);-1!==c&&e.splice(c,1)}}$set(){}}class v extends w{constructor(c){if(!c||!c.target&&!c.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=(()=>{console.warn("Component was already destroyed")})}}const{Error:L,console:U}=Y,R="assets/js/ui-oauth/cmp.svelte";function J(c){var e,g,n,I,i,C,r,X,m,p,B,Z,h,x,F,y,V,Q,N,f,Y,W,z,w,v,L,U,J,P,j,S,H,E,T,M,O,_,$,K,q,cc,tc,ec,gc,nc,Ic,ic,lc,sc,ac,oc=c.client_name||c.client.title+"",Cc=c.client.title+"",uc=c.client.author+"",dc=c.user.displayName||c.user.email+"",bc=c.client_name||c.client.title+"",rc=c.client.redirect_uri+"",Ac=c.scope.includes("cloud_connector")&&D(),Gc=c.scope.includes("addon_registry")&&k();return{c:function(){var l,s,a,A;e=o("h1"),g=u("Authorize "),n=u(oc),I=d(),i=o("div"),C=o("div"),r=o("div"),X=o("img"),p=d(),B=o("div"),Z=o("b"),h=u(Cc),x=u("\n          by\n          "),F=o("i"),y=u(uc),V=d(),Q=o("div"),N=u("wants to access your\n            "),f=o("b"),Y=u(dc),W=u("\n            account"),z=d(),w=o("div"),v=o("i"),L=d(),U=o("div"),J=u("Only Public Data\n          "),(P=o("div")).textContent="Limited access to your public data (Name, E-Mail).",j=d(),Ac&&Ac.c(),S=d(),Gc&&Gc.c(),H=d(),E=o("hr"),T=d(),M=o("div"),O=o("button"),_=u("Authorize "),$=u(bc),q=d(),cc=o("div"),tc=u("Authorizing will redirect to\n        "),ec=o("div"),gc=o("b"),nc=u(rc),Ic=d(),ic=o("div"),lc=u("Learn more about access tokens on your\n    "),(sc=o("a")).textContent="accounts dashboard",b(e,"class","text-center"),t(e,R,185,2,4778),b(X,"src",m=c.client.logo_url),b(X,"alt","Logo"),b(X,"class","svelte-psf4zb"),t(X,R,189,8,4982),t(Z,R,191,10,5047),t(F,R,193,10,5092),t(f,R,196,12,5176),t(Q,R,194,10,5125),t(B,R,190,8,5031),b(r,"class","entry svelte-psf4zb"),t(r,R,188,6,4954),b(v,"class","fas fa-globe-europe svelte-psf4zb"),t(v,R,202,8,5315),t(P,R,205,10,5400),t(U,R,203,8,5357),b(w,"class","entry svelte-psf4zb"),t(w,R,201,6,5287),b(C,"class","card-body"),t(C,R,187,4,4924),b(E,"class","svelte-psf4zb"),t(E,R,230,4,6093),b(O,"class","btn btn-success w-100 mb-2"),O.disabled=K=c.client.disabled||!c.user.uid,t(O,R,232,6,6134),t(gc,R,241,10,6420),t(ec,R,240,8,6404),b(cc,"class","text-center"),t(cc,R,238,6,6333),b(M,"class","card-body"),t(M,R,231,4,6104),b(i,"class","card mb-4 svelte-psf4zb"),G(i,"opacity50",c.client.disabled||!c.user.uid),t(i,R,186,2,4849),b(sc,"href","/dashboard/access_tokens"),t(sc,R,249,4,6579),b(ic,"class","small text-center"),t(ic,R,247,2,6500),l=O,s="click",a=c.authorize,l.addEventListener(s,a,A),ac=(()=>l.removeEventListener(s,a,A))},m:function(c,t){s(c,e,t),l(e,g),l(e,n),s(c,I,t),s(c,i,t),l(i,C),l(C,r),l(r,X),l(r,p),l(r,B),l(B,Z),l(Z,h),l(B,x),l(B,F),l(F,y),l(B,V),l(B,Q),l(Q,N),l(Q,f),l(f,Y),l(Q,W),l(C,z),l(C,w),l(w,v),l(w,L),l(w,U),l(U,J),l(U,P),l(C,j),Ac&&Ac.m(C,null),l(C,S),Gc&&Gc.m(C,null),l(i,H),l(i,E),l(i,T),l(i,M),l(M,O),l(O,_),l(O,$),l(M,q),l(M,cc),l(cc,tc),l(cc,ec),l(ec,gc),l(gc,nc),s(c,Ic,t),s(c,ic,t),l(ic,lc),l(ic,sc)},p:function(c,t){c.client&&oc!==(oc=t.client_name||t.client.title+"")&&A(n,oc),c.client&&m!==(m=t.client.logo_url)&&b(X,"src",m),c.client&&Cc!==(Cc=t.client.title+"")&&A(h,Cc),c.client&&uc!==(uc=t.client.author+"")&&A(y,uc),c.user&&dc!==(dc=t.user.displayName||t.user.email+"")&&A(Y,dc),t.scope.includes("cloud_connector")?Ac||((Ac=D()).c(),Ac.m(C,S)):Ac&&(Ac.d(1),Ac=null),t.scope.includes("addon_registry")?Gc||((Gc=k()).c(),Gc.m(C,null)):Gc&&(Gc.d(1),Gc=null),c.client&&bc!==(bc=t.client_name||t.client.title+"")&&A($,bc),(c.client||c.user)&&K!==(K=t.client.disabled||!t.user.uid)&&(O.disabled=K),c.client&&rc!==(rc=t.client.redirect_uri+"")&&A(nc,rc),(c.client||c.user)&&G(i,"opacity50",t.client.disabled||!t.user.uid)},d:function(c){c&&(a(e),a(I),a(i)),Ac&&Ac.d(),Gc&&Gc.d(),c&&(a(Ic),a(ic)),ac()}}}function P(c){var e,g,n,I,i,C=c.client.title+"";return{c:function(){e=o("h1"),g=u("Login to authorize "),n=u(C),I=d(),i=o("ui-login"),b(e,"class","text-center"),t(e,R,182,2,4659),r(i,"no-redirect",""),r(i,"legal-link-new-tab",""),t(i,R,183,2,4724)},m:function(c,t){s(c,e,t),l(e,g),l(e,n),s(c,I,t),s(c,i,t)},p:function(c,t){c.client&&C!==(C=t.client.title+"")&&A(n,C)},d:function(c){c&&(a(e),a(I),a(i))}}}function D(c){var e,g,n,I,i,C;return{c:function(){e=o("div"),g=o("i"),n=d(),I=o("div"),i=u("Cloud Connector Access\n            "),(C=o("div")).textContent="Potential access to all configured Things and Thing States.",b(g,"class","fas fa-cloud svelte-psf4zb"),t(g,R,210,10,5574),t(C,R,213,12,5664),t(I,R,211,10,5611),b(e,"class","entry svelte-psf4zb"),t(e,R,209,8,5544)},m:function(c,t){s(c,e,t),l(e,g),l(e,n),l(e,I),l(I,i),l(I,C)},d:function(c){c&&a(e)}}}function k(c){var e,g,n,I,i,C;return{c:function(){e=o("div"),g=o("i"),n=d(),I=o("div"),i=u("Addon Registry\n            "),(C=o("div")).textContent="Allows adding, altering Addon Registry entries.",b(g,"class","fas fa-sitemap svelte-psf4zb"),t(g,R,221,10,5890),t(C,R,224,12,5974),t(I,R,222,10,5929),b(e,"class","entry svelte-psf4zb"),t(e,R,220,8,5860)},m:function(c,t){s(c,e,t),l(e,g),l(e,n),l(e,I),l(I,i),l(I,C)},d:function(c){c&&a(e)}}}function j(c){var e,g;return{c:function(){e=o("p"),g=u(c.error_messages),t(e,R,253,2,6675)},m:function(c,t){s(c,e,t),l(e,g)},p:function(c,t){c.error_messages&&A(g,t.error_messages)},d:function(c){c&&a(e)}}}function S(e){var g,n,I,i,r,A,G,X,m,p,B,Z,h,x;function F(c){return null===c.user?P:J}var y=F(e),V=y(e),Q=e.error_messages&&j(e);return{c:function(){g=o("div"),n=o("img"),i=d(),r=C("svg"),A=C("line"),G=C("circle"),X=C("g"),m=C("path"),p=d(),B=o("img"),Z=d(),V.c(),h=d(),Q&&Q.c(),x=u(""),b(n,"src",I=e.client?e.client.logo_url:""),b(n,"alt","Loading"),b(n,"class","svelte-psf4zb"),t(n,R,168,2,4145),b(A,"x1","0"),b(A,"x2","180"),b(A,"y1","60"),b(A,"y2","60"),b(A,"class","svelte-psf4zb"),t(A,R,170,4,4257),b(G,"cx","90"),b(G,"cy","60"),b(G,"r","20"),b(G,"class","svelte-psf4zb"),t(G,R,171,4,4302),b(m,"fill","white"),b(m,"d","M 19.28125 5.28125 L 9 15.5625 L 4.71875 11.28125 L 3.28125 12.71875\n        L 8.28125 17.71875 L 9 18.40625 L 9.71875 17.71875 L 20.71875 6.71875 Z "),t(m,R,173,6,4379),b(X,"transform","translate(78,50)"),t(X,R,172,4,4340),b(r,"class","dashline svelte-psf4zb"),b(r,"width","180"),b(r,"height","120"),t(r,R,169,2,4205),b(B,"src","/img/logo.png"),b(B,"alt","Logo"),b(B,"class","svelte-psf4zb"),t(B,R,179,2,4591),b(g,"class","logos svelte-psf4zb"),t(g,R,167,0,4123)},l:function(c){throw new L("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(c,t){s(c,g,t),l(g,n),l(g,i),l(g,r),l(r,A),l(r,G),l(r,X),l(X,m),l(g,p),l(g,B),s(c,Z,t),V.m(c,t),s(c,h,t),Q&&Q.m(c,t),s(c,x,t)},p:function(c,t){c.client&&I!==(I=t.client?t.client.logo_url:"")&&b(n,"src",I),y===(y=F(t))&&V?V.p(c,t):(V.d(1),(V=y(t))&&(V.c(),V.m(h.parentNode,h))),t.error_messages?Q?Q.p(c,t):((Q=j(t)).c(),Q.m(x.parentNode,x)):Q&&(Q.d(1),Q=null)},i:c,o:c,d:function(c){c&&(a(g),a(Z)),V.d(c),c&&a(h),Q&&Q.d(c),c&&a(x)}}}function H(c,t,e){let g,n,I,{classes:i=""}=t,l={},s=null,a={title:"&hellip;",author:"&hellip;",logo_url:"",redirect_uri:"&hellip;",disabled:!0},o=()=>{};p(()=>{n.removeEventListener("data",X),o(),o=(()=>{})});const C=new URL(window.location),u=C.searchParams.get("redirect_uri"),d=C.searchParams.get("client_id"),b=C.searchParams.get("client_secret"),r=C.searchParams.get("client_name"),A=C.searchParams.get("client_name"),G=C.searchParams.get("scope").split(",");function X(c){I=c.detail}(async function(){const c=await import("../../../../../../../../js/cmp/userdata.js");g=c.firebase,n=c.userdata,await n.ready(),I=n.data||{},o=g.auth().onAuthStateChanged(c=>{e("user",l=c)},c=>{loading_msg="Connection Issue!"}),n.addEventListener("data",X)})().catch(c=>{e("error_messages",s=c.message),console.warn("OAuth Dialog",c,s)}),async function(){const c=await fetch("/run/oauth_clients.json");if(200!==c.status)throw new Error("oauth_clients.json not found!");const t=await c.json();t[d]&&(e("client",a=t[d]),a.requires_state&&!A&&(e("error_messages",s="State not defined, but required!"),a.disabled=!0,e("client",a)))}().catch(c=>{e("error_messages",s=c.message),console.warn("OAuth Dialog",c,s)});const m=["classes"];return Object.keys(t).forEach(c=>{m.includes(c)||c.startsWith("$$")||U.warn(`<Cmp> was created with unknown prop '${c}'`)}),c.$set=(c=>{"classes"in c&&e("classes",i=c.classes)}),{classes:i,user:l,error_messages:s,client:a,client_name:r,scope:G,authorize:async function(){a.disabled=!0,e("client",a);let c=u?decodeURIComponent(u):a.redirect_uri[0];if(c.startsWith("/")&&(c=window.location.origin+decodeURIComponent(u)),!a.redirect_uri.includes(c))return void e("error_messages",s=`Redirect URI ${c} invalid!`);let t=new URL(c);A&&t.searchParams.append("tag",A),console.log(t,l.ra);try{const c=await n.fetchWithAuth("oauth.openhabx.com/generate_token","POST",JSON.stringify({client_id:d,client_secret:b,scope:G,state:A}));if(200!==c.status)throw new Error("oauth.openhabx.com/auth not reachable!");const g=await c.json();if(!g.refreshToken)throw new Error("No refresh token in response!");t.searchParams.append("code",g.refreshToken)}catch(c){return void e("error_messages",s=`Failed to fetch authorisation code: ${c.message}`)}console.log(t,l)}}}class E extends v{constructor(c){var t;super(c),document.getElementById("svelte-psf4zb-style")||((t=o("style")).id="svelte-psf4zb-style",t.textContent=".entry.svelte-psf4zb{display:flex;margin-bottom:1em}.entry.svelte-psf4zb>img.svelte-psf4zb{width:2.5em;height:2.5em;margin-right:1em}.entry.svelte-psf4zb>i.svelte-psf4zb{font-size:2.5em;line-height:1;width:65px}.logos.svelte-psf4zb{display:flex;justify-content:center;margin-bottom:3em}.logos.svelte-psf4zb>img.svelte-psf4zb{max-width:120px;max-height:120px}hr.svelte-psf4zb{margin:0}.dashline.svelte-psf4zb line.svelte-psf4zb{stroke:#b1b1b1;stroke-dasharray:8;stroke-width:5}.dashline.svelte-psf4zb circle.svelte-psf4zb{fill:rgb(0, 158, 0)}.opacity50.svelte-psf4zb{opacity:0.5}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY21wLnN2ZWx0ZSIsInNvdXJjZXMiOlsiY21wLnN2ZWx0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyI8c2NyaXB0PlxuICBleHBvcnQgbGV0IGNsYXNzZXMgPSBcIlwiO1xuXG4gIGxldCBmaXJlYmFzZTtcbiAgbGV0IHVzZXJkYXRhO1xuICBsZXQgZGF0YTtcbiAgbGV0IHVzZXIgPSB7fTtcbiAgbGV0IGRpc2FibGVkID0gdHJ1ZTtcbiAgbGV0IGVycm9yX21lc3NhZ2VzID0gbnVsbDtcbiAgbGV0IGNsaWVudCA9IHtcbiAgICB0aXRsZTogXCImaGVsbGlwO1wiLFxuICAgIGF1dGhvcjogXCImaGVsbGlwO1wiLFxuICAgIGxvZ29fdXJsOiBcIlwiLFxuICAgIHJlZGlyZWN0X3VyaTogXCImaGVsbGlwO1wiLFxuICAgIGRpc2FibGVkOiB0cnVlXG4gIH07XG4gIGxldCBjbGllbnRfaW52YWxpZCA9IGZhbHNlO1xuXG4gIGltcG9ydCB7IG9uRGVzdHJveSB9IGZyb20gXCJzdmVsdGVcIjtcbiAgbGV0IHVuc3Vic2NyaWJlX3VzZXJfbGlzdGVuZXIgPSAoKSA9PiB7fTtcbiAgb25EZXN0cm95KCgpID0+IHtcbiAgICB1c2VyZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGF0YVwiLCB1c2VyZGF0YV9jaGFuZ2VkKTtcbiAgICB1bnN1YnNjcmliZV91c2VyX2xpc3RlbmVyKCk7XG4gICAgdW5zdWJzY3JpYmVfdXNlcl9saXN0ZW5lciA9ICgpID0+IHt9O1xuICB9KTtcblxuICBjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbik7XG4gIGNvbnN0IHJlZGlyZWN0X3VyaSA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KFwicmVkaXJlY3RfdXJpXCIpO1xuICBjb25zdCBjbGllbnRfaWQgPSB1cmwuc2VhcmNoUGFyYW1zLmdldChcImNsaWVudF9pZFwiKTtcbiAgY29uc3QgY2xpZW50X3NlY3JldCA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KFwiY2xpZW50X3NlY3JldFwiKTtcbiAgY29uc3QgY2xpZW50X25hbWUgPSB1cmwuc2VhcmNoUGFyYW1zLmdldChcImNsaWVudF9uYW1lXCIpO1xuICBjb25zdCBzdGF0ZSA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KFwiY2xpZW50X25hbWVcIik7XG4gIGNvbnN0IHNjb3BlID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJzY29wZVwiKS5zcGxpdChcIixcIik7XG5cbiAgZnVuY3Rpb24gdXNlcmRhdGFfY2hhbmdlZChkYXRhX2V2ZW50KSB7XG4gICAgZGF0YSA9IGRhdGFfZXZlbnQuZGV0YWlsO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gc3RhcnRfY2xpZW50X2xvYWQoKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9ydW4vb2F1dGhfY2xpZW50cy5qc29uXCIpO1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm9hdXRoX2NsaWVudHMuanNvbiBub3QgZm91bmQhXCIpO1xuICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAoIWpzb25bY2xpZW50X2lkXSkge1xuICAgICAgY2xpZW50X2ludmFsaWQgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNsaWVudCA9IGpzb25bY2xpZW50X2lkXTtcbiAgICBpZiAoY2xpZW50LnJlcXVpcmVzX3N0YXRlICYmICFzdGF0ZSkge1xuICAgICAgZXJyb3JfbWVzc2FnZXMgPSBcIlN0YXRlIG5vdCBkZWZpbmVkLCBidXQgcmVxdWlyZWQhXCI7XG4gICAgICBjbGllbnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHN0YXJ0X3VzZXJfbG9naW4oKSB7XG4gICAgY29uc3QgbW9kdWxlID0gYXdhaXQgaW1wb3J0KFwiL2pzL2NtcC91c2VyZGF0YS5qc1wiKTtcbiAgICBmaXJlYmFzZSA9IG1vZHVsZS5maXJlYmFzZTtcbiAgICB1c2VyZGF0YSA9IG1vZHVsZS51c2VyZGF0YTtcbiAgICBhd2FpdCB1c2VyZGF0YS5yZWFkeSgpO1xuICAgIGRhdGEgPSB1c2VyZGF0YS5kYXRhIHx8IHt9O1xuICAgIHVuc3Vic2NyaWJlX3VzZXJfbGlzdGVuZXIgPSBmaXJlYmFzZS5hdXRoKCkub25BdXRoU3RhdGVDaGFuZ2VkKFxuICAgICAgdSA9PiB7XG4gICAgICAgIHVzZXIgPSB1O1xuICAgICAgfSxcbiAgICAgIGVycm9yID0+IHtcbiAgICAgICAgbG9hZGluZ19tc2cgPSBcIkNvbm5lY3Rpb24gSXNzdWUhXCI7XG4gICAgICB9XG4gICAgKTtcbiAgICB1c2VyZGF0YS5hZGRFdmVudExpc3RlbmVyKFwiZGF0YVwiLCB1c2VyZGF0YV9jaGFuZ2VkKTtcbiAgICBkaXNhYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgc3RhcnRfdXNlcl9sb2dpbigpLmNhdGNoKGVyciA9PiB7XG4gICAgZXJyb3JfbWVzc2FnZXMgPSBlcnIubWVzc2FnZTtcbiAgICBjb25zb2xlLndhcm4oXCJPQXV0aCBEaWFsb2dcIiwgZXJyLCBlcnJvcl9tZXNzYWdlcyk7XG4gIH0pO1xuICBzdGFydF9jbGllbnRfbG9hZCgpLmNhdGNoKGVyciA9PiB7XG4gICAgZXJyb3JfbWVzc2FnZXMgPSBlcnIubWVzc2FnZTtcbiAgICBjb25zb2xlLndhcm4oXCJPQXV0aCBEaWFsb2dcIiwgZXJyLCBlcnJvcl9tZXNzYWdlcyk7XG4gIH0pO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIGF1dGhvcml6ZSgpIHtcbiAgICBjbGllbnQuZGlzYWJsZWQgPSB0cnVlO1xuXG4gICAgbGV0IHVyaSA9IHJlZGlyZWN0X3VyaVxuICAgICAgPyBkZWNvZGVVUklDb21wb25lbnQocmVkaXJlY3RfdXJpKVxuICAgICAgOiBjbGllbnQucmVkaXJlY3RfdXJpWzBdO1xuICAgIGlmICh1cmkuc3RhcnRzV2l0aChcIi9cIikpXG4gICAgICB1cmkgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgZGVjb2RlVVJJQ29tcG9uZW50KHJlZGlyZWN0X3VyaSk7XG4gICAgaWYgKCFjbGllbnQucmVkaXJlY3RfdXJpLmluY2x1ZGVzKHVyaSkpIHtcbiAgICAgIGVycm9yX21lc3NhZ2VzID0gYFJlZGlyZWN0IFVSSSAke3VyaX0gaW52YWxpZCFgO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgdGFyZ2V0ID0gbmV3IFVSTCh1cmkpO1xuICAgIGlmIChzdGF0ZSkgdGFyZ2V0LnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJ0YWdcIiwgc3RhdGUpO1xuXG4gICAgY29uc29sZS5sb2codGFyZ2V0LCB1c2VyLnJhKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHVzZXJkYXRhLmZldGNoV2l0aEF1dGgoXG4gICAgICAgIFwib2F1dGgub3BlbmhhYnguY29tL2dlbmVyYXRlX3Rva2VuXCIsXG4gICAgICAgIFwiUE9TVFwiLFxuICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgY2xpZW50X2lkLFxuICAgICAgICAgIGNsaWVudF9zZWNyZXQsXG4gICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgc3RhdGVcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIm9hdXRoLm9wZW5oYWJ4LmNvbS9hdXRoIG5vdCByZWFjaGFibGUhXCIpO1xuICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGlmICghanNvbi5yZWZyZXNoVG9rZW4pIHRocm93IG5ldyBFcnJvcihcIk5vIHJlZnJlc2ggdG9rZW4gaW4gcmVzcG9uc2UhXCIpO1xuICAgICAgdGFyZ2V0LnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJjb2RlXCIsIGpzb24ucmVmcmVzaFRva2VuKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGVycm9yX21lc3NhZ2VzID0gYEZhaWxlZCB0byBmZXRjaCBhdXRob3Jpc2F0aW9uIGNvZGU6ICR7ZXJyLm1lc3NhZ2V9YDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyh0YXJnZXQsIHVzZXIpO1xuICAgIHJldHVybjtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24odGFyZ2V0KSwgNTAwKTtcbiAgfVxuPC9zY3JpcHQ+XG5cbjxzdHlsZT5cbiAgLmVudHJ5IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIG1hcmdpbi1ib3R0b206IDFlbTtcbiAgfVxuICAuZW50cnkgPiBpbWcge1xuICAgIHdpZHRoOiAyLjVlbTtcbiAgICBoZWlnaHQ6IDIuNWVtO1xuICAgIG1hcmdpbi1yaWdodDogMWVtO1xuICB9XG4gIC5lbnRyeSA+IGkge1xuICAgIGZvbnQtc2l6ZTogMi41ZW07XG4gICAgbGluZS1oZWlnaHQ6IDE7XG4gICAgd2lkdGg6IDY1cHg7XG4gIH1cbiAgLmxvZ29zIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIG1hcmdpbi1ib3R0b206IDNlbTtcbiAgfVxuICAubG9nb3MgPiBpbWcge1xuICAgIG1heC13aWR0aDogMTIwcHg7XG4gICAgbWF4LWhlaWdodDogMTIwcHg7XG4gIH1cbiAgaHIge1xuICAgIG1hcmdpbjogMDtcbiAgfVxuICAuZGFzaGxpbmUgbGluZSB7XG4gICAgc3Ryb2tlOiAjYjFiMWIxO1xuICAgIHN0cm9rZS1kYXNoYXJyYXk6IDg7XG4gICAgc3Ryb2tlLXdpZHRoOiA1O1xuICB9XG4gIC5kYXNobGluZSBjaXJjbGUge1xuICAgIGZpbGw6IHJnYigwLCAxNTgsIDApO1xuICB9XG4gIC5vcGFjaXR5NTAge1xuICAgIG9wYWNpdHk6IDAuNTtcbiAgfVxuPC9zdHlsZT5cblxuPGRpdiBjbGFzcz1cImxvZ29zXCI+XG4gIDxpbWcgc3JjPXtjbGllbnQgPyBjbGllbnQubG9nb191cmwgOiAnJ30gYWx0PVwiTG9hZGluZ1wiIC8+XG4gIDxzdmcgY2xhc3M9XCJkYXNobGluZVwiIHdpZHRoPVwiMTgwXCIgaGVpZ2h0PVwiMTIwXCI+XG4gICAgPGxpbmUgeDE9XCIwXCIgeDI9XCIxODBcIiB5MT1cIjYwXCIgeTI9XCI2MFwiIC8+XG4gICAgPGNpcmNsZSBjeD1cIjkwXCIgY3k9XCI2MFwiIHI9XCIyMFwiIC8+XG4gICAgPGcgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDc4LDUwKVwiPlxuICAgICAgPHBhdGhcbiAgICAgICAgZmlsbD1cIndoaXRlXCJcbiAgICAgICAgZD1cIk0gMTkuMjgxMjUgNS4yODEyNSBMIDkgMTUuNTYyNSBMIDQuNzE4NzUgMTEuMjgxMjUgTCAzLjI4MTI1IDEyLjcxODc1XG4gICAgICAgIEwgOC4yODEyNSAxNy43MTg3NSBMIDkgMTguNDA2MjUgTCA5LjcxODc1IDE3LjcxODc1IEwgMjAuNzE4NzUgNi43MTg3NSBaIFwiIC8+XG4gICAgPC9nPlxuICA8L3N2Zz5cbiAgPGltZyBzcmM9XCIvaW1nL2xvZ28ucG5nXCIgYWx0PVwiTG9nb1wiIC8+XG48L2Rpdj5cbnsjaWYgdXNlciA9PT0gbnVsbH1cbiAgPGgxIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5Mb2dpbiB0byBhdXRob3JpemUge2NsaWVudC50aXRsZX08L2gxPlxuICA8dWktbG9naW4gbm8tcmVkaXJlY3QgbGVnYWwtbGluay1uZXctdGFiIC8+XG57OmVsc2V9XG4gIDxoMSBjbGFzcz1cInRleHQtY2VudGVyXCI+QXV0aG9yaXplIHtjbGllbnRfbmFtZSB8fCBjbGllbnQudGl0bGV9PC9oMT5cbiAgPGRpdiBjbGFzcz1cImNhcmQgbWItNFwiIGNsYXNzOm9wYWNpdHk1MD17Y2xpZW50LmRpc2FibGVkIHx8ICF1c2VyLnVpZH0+XG4gICAgPGRpdiBjbGFzcz1cImNhcmQtYm9keVwiPlxuICAgICAgPGRpdiBjbGFzcz1cImVudHJ5XCI+XG4gICAgICAgIDxpbWcgc3JjPXtjbGllbnQubG9nb191cmx9IGFsdD1cIkxvZ29cIiAvPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxiPntjbGllbnQudGl0bGV9PC9iPlxuICAgICAgICAgIGJ5XG4gICAgICAgICAgPGk+e2NsaWVudC5hdXRob3J9PC9pPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICB3YW50cyB0byBhY2Nlc3MgeW91clxuICAgICAgICAgICAgPGI+e3VzZXIuZGlzcGxheU5hbWUgfHwgdXNlci5lbWFpbH08L2I+XG4gICAgICAgICAgICBhY2NvdW50XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZW50cnlcIj5cbiAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtZ2xvYmUtZXVyb3BlXCIgLz5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICBPbmx5IFB1YmxpYyBEYXRhXG4gICAgICAgICAgPGRpdj5MaW1pdGVkIGFjY2VzcyB0byB5b3VyIHB1YmxpYyBkYXRhIChOYW1lLCBFLU1haWwpLjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgeyNpZiBzY29wZS5pbmNsdWRlcygnY2xvdWRfY29ubmVjdG9yJyl9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJlbnRyeVwiPlxuICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLWNsb3VkXCIgLz5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgQ2xvdWQgQ29ubmVjdG9yIEFjY2Vzc1xuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgUG90ZW50aWFsIGFjY2VzcyB0byBhbGwgY29uZmlndXJlZCBUaGluZ3MgYW5kIFRoaW5nIFN0YXRlcy5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIHsvaWZ9XG4gICAgICB7I2lmIHNjb3BlLmluY2x1ZGVzKCdhZGRvbl9yZWdpc3RyeScpfVxuICAgICAgICA8ZGl2IGNsYXNzPVwiZW50cnlcIj5cbiAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1zaXRlbWFwXCIgLz5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgQWRkb24gUmVnaXN0cnlcbiAgICAgICAgICAgIDxkaXY+QWxsb3dzIGFkZGluZywgYWx0ZXJpbmcgQWRkb24gUmVnaXN0cnkgZW50cmllcy48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICB7L2lmfVxuXG4gICAgPC9kaXY+XG4gICAgPGhyIC8+XG4gICAgPGRpdiBjbGFzcz1cImNhcmQtYm9keVwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzcz1cImJ0biBidG4tc3VjY2VzcyB3LTEwMCBtYi0yXCJcbiAgICAgICAgZGlzYWJsZWQ9e2NsaWVudC5kaXNhYmxlZCB8fCAhdXNlci51aWR9XG4gICAgICAgIG9uOmNsaWNrPXthdXRob3JpemV9PlxuICAgICAgICBBdXRob3JpemUge2NsaWVudF9uYW1lIHx8IGNsaWVudC50aXRsZX1cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyXCI+XG4gICAgICAgIEF1dGhvcml6aW5nIHdpbGwgcmVkaXJlY3QgdG9cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8Yj57Y2xpZW50LnJlZGlyZWN0X3VyaX08L2I+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJzbWFsbCB0ZXh0LWNlbnRlclwiPlxuICAgIExlYXJuIG1vcmUgYWJvdXQgYWNjZXNzIHRva2VucyBvbiB5b3VyXG4gICAgPGEgaHJlZj1cIi9kYXNoYm9hcmQvYWNjZXNzX3Rva2Vuc1wiPmFjY291bnRzIGRhc2hib2FyZDwvYT5cbiAgPC9kaXY+XG57L2lmfVxueyNpZiBlcnJvcl9tZXNzYWdlc31cbiAgPHA+e2Vycm9yX21lc3NhZ2VzfTwvcD5cbnsvaWZ9XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBZ0lFLE1BQU0sY0FBQyxDQUFDLEFBQ04sT0FBTyxDQUFFLElBQUksQ0FDYixhQUFhLENBQUUsR0FBRyxBQUNwQixDQUFDLEFBQ0Qsb0JBQU0sQ0FBRyxHQUFHLGNBQUMsQ0FBQyxBQUNaLEtBQUssQ0FBRSxLQUFLLENBQ1osTUFBTSxDQUFFLEtBQUssQ0FDYixZQUFZLENBQUUsR0FBRyxBQUNuQixDQUFDLEFBQ0Qsb0JBQU0sQ0FBRyxDQUFDLGNBQUMsQ0FBQyxBQUNWLFNBQVMsQ0FBRSxLQUFLLENBQ2hCLFdBQVcsQ0FBRSxDQUFDLENBQ2QsS0FBSyxDQUFFLElBQUksQUFDYixDQUFDLEFBQ0QsTUFBTSxjQUFDLENBQUMsQUFDTixPQUFPLENBQUUsSUFBSSxDQUNiLGVBQWUsQ0FBRSxNQUFNLENBQ3ZCLGFBQWEsQ0FBRSxHQUFHLEFBQ3BCLENBQUMsQUFDRCxvQkFBTSxDQUFHLEdBQUcsY0FBQyxDQUFDLEFBQ1osU0FBUyxDQUFFLEtBQUssQ0FDaEIsVUFBVSxDQUFFLEtBQUssQUFDbkIsQ0FBQyxBQUNELEVBQUUsY0FBQyxDQUFDLEFBQ0YsTUFBTSxDQUFFLENBQUMsQUFDWCxDQUFDLEFBQ0QsdUJBQVMsQ0FBQyxJQUFJLGNBQUMsQ0FBQyxBQUNkLE1BQU0sQ0FBRSxPQUFPLENBQ2YsZ0JBQWdCLENBQUUsQ0FBQyxDQUNuQixZQUFZLENBQUUsQ0FBQyxBQUNqQixDQUFDLEFBQ0QsdUJBQVMsQ0FBQyxNQUFNLGNBQUMsQ0FBQyxBQUNoQixJQUFJLENBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQUFDdEIsQ0FBQyxBQUNELFVBQVUsY0FBQyxDQUFDLEFBQ1YsT0FBTyxDQUFFLEdBQUcsQUFDZCxDQUFDIn0= */",l(document.head,t)),z(this,c,H,S,i,["classes"])}get classes(){throw new L("<Cmp>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set classes(c){throw new L("<Cmp>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}window.customElements.define("ui-oauth",class extends HTMLElement{constructor(){super()}connectedCallback(){const c=this.getAttribute("class");this.removeAttribute("class"),this.cmp=new E({target:this,props:{classes:c}})}disconnectedCallback(){this.cmp&&this.cmp.$destroy()}});
//# sourceMappingURL=ui-oauth.js.map
