{"version":3,"file":"ui-subscription-flexible.js","sources":["../../../assets/js/ui-subscription-flexible/index.js"],"sourcesContent":["window.customElements.define('ui-subscription-flexible', class extends HTMLElement {\n    constructor() {\n        super();\n        this.initCb = () => this.init();\n    }\n\n    init() {\n        let target = document.getElementById(this.getAttribute(\"target\"));\n        console.warn(\"Target found!\");\n        if (!target) {\n            console.warn(\"Target not found!\");\n            return;\n        }\n        target.oninput = () => {\n            const min = parseInt(target.subscriptionValue.min);\n            const max = parseInt(target.subscriptionValue.max);\n            const range = max - min;\n            let costs = parseInt(target.subscriptionValue.value);\n            let outputs = target.querySelectorAll(\"*[data-dynamic]\");\n            for (let output of outputs) {\n                if (output.name == \"x\") {\n                    output.value = costs;\n                    continue;\n                }\n                const lmin = parseInt(output.dataset.min);\n                const lmax = parseInt(output.dataset.max);\n                const lrange = lmax - lmin;\n                let value = lmin + lrange * ((costs - min) / range);\n                output.value = (output.dataset.round) ? Math.round(value) : value;\n            }\n            target.querySelector(\"input[name='c']\").value = costs;\n        }\n        target.oninput();\n    }\n\n    connectedCallback() {\n        document.addEventListener(\"MainContentChanged\", this.initCb);\n    }\n    disconnectedCallback() {\n        document.removeEventListener(\"MainContentChanged\", this.initCb);\n    }\n});\n"],"names":[],"mappings":"AAAA,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,0BAA0B,EAAE,cAAc,WAAW,CAAC;IAC/E,WAAW,GAAG;QACV,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,MAAM,GAAG,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC;KACnC;;IAED,IAAI,GAAG;QACH,IAAI,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC;QAClE,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QAC9B,IAAI,CAAC,MAAM,EAAE;YACT,OAAO,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;YAClC,OAAO;SACV;QACD,MAAM,CAAC,OAAO,GAAG,MAAM;YACnB,MAAM,GAAG,GAAG,QAAQ,CAAC,MAAM,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;YACnD,MAAM,GAAG,GAAG,QAAQ,CAAC,MAAM,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;YACnD,MAAM,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC;YACxB,IAAI,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;YACrD,IAAI,OAAO,GAAG,MAAM,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,CAAC;YACzD,KAAK,IAAI,MAAM,IAAI,OAAO,EAAE;gBACxB,IAAI,MAAM,CAAC,IAAI,IAAI,GAAG,EAAE;oBACpB,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;oBACrB,SAAS;iBACZ;gBACD,MAAM,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;gBAC1C,MAAM,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;gBAC1C,MAAM,MAAM,GAAG,IAAI,GAAG,IAAI,CAAC;gBAC3B,IAAI,KAAK,GAAG,IAAI,GAAG,MAAM,IAAI,CAAC,KAAK,GAAG,GAAG,IAAI,KAAK,CAAC,CAAC;gBACpD,MAAM,CAAC,KAAK,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;aACrE;YACD,MAAM,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC;UACzD;QACD,MAAM,CAAC,OAAO,EAAE,CAAC;KACpB;;IAED,iBAAiB,GAAG;QAChB,QAAQ,CAAC,gBAAgB,CAAC,oBAAoB,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;KAChE;IACD,oBAAoB,GAAG;QACnB,QAAQ,CAAC,mBAAmB,CAAC,oBAAoB,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;KACnE;CACJ,CAAC,CAAC"}